{"componentChunkName":"component---src-templates-project-js","path":"/portfolio/atelier-api/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"id":"11280a34-4023-516e-8265-7ed25153b4db","html":"<h2>ðŸŒŸ Project Overview</h2>\n<p><strong>Situation:</strong> Refactoring a Node.js RESTful API deployed on AWS EC2, serving retail product data from a PostgreSQL database.</p>\n<p><strong>Task:</strong> Optimize and scale the API to handle production level traffic with low latency and &#x3C;1% error rate. This backend was crucial to have ready for the next project, which was the frontend serving this data. It was a challenge without using a Kubernetes cluster or database sharding.</p>\n<p><strong>Action:</strong> Dockerized the API for horizontal scaling with the NGINX proxy service. Used the dynamic least connection algorithm for load balancing to distribute traffic.  Optimized the Node.js app  with caching, refactoring database queries, and other minor code improvements.  Identified and resolved system bottlenecks with load testing using K6 and Loader.io.</p>\n<p><strong>Result:</strong> Achieved traffic from &#x3C;10 RPS to reliable 700 RPS with 70 ms average latency and &#x3C;1% error rate. Avoided breaking changes with testing and continuous integration, decreasing the stress testing cycle length to allow  quick iteration of the system..</p>\n<h2>ðŸ“ˆ Performance Results</h2>\n<h4>Target Performance</h4>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Throughput: 100 RPS</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Latency: 2000 ms</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Error rate: &#x3C;1% rate</li>\n</ul>\n<h4>Actual Performance</h4>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> Throughput: ~700 RPS (Max 5000 RPS)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> Latency: ~70 ms</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> Error rate: &#x3C;1% rate</li>\n</ul>\n<h2>Engineering Journal</h2>\n<p>To keep track of everything I learned, along with the challenges faced during this project, I maintained an Engineering Journal available as a <a href=\"https://github.com/sdc-bareminimum/project-catwalk-related-service/blob/main/resources/system_design_project_engineering_journal.pdf\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PDF</a>, <a href=\"https://github.com/sdc-bareminimum/project-catwalk-related-service/blob/main/resources/JOURNAL.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Markdown</a>, or <a href=\"https://docs.google.com/document/d/1pTTeDCzcKNozd9dljexVn-PrXwzoTBS0hby2dOZ95yw\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Google Docs</a></p>\n<h2>API Documentation</h2>\n<p>The endpoints for this project are documented in <a href=\"https://github.com/sdc-bareminimum/project-catwalk-related-service/blob/main/ATELIER_API_DOCS.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this markdown file</a>. This project was dedicated to rebuilding the Products module of the <a href=\"https://gist.github.com/trentgoing/d69849d6c16b82d279ffc4ecd127f49f\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Atelier API</a>.</p>\n<h2>ðŸ“¦ Technologies:</h2>\n<ul>\n<li><a href=\"https://www.nginx.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">NGINX</a></li>\n<li><a href=\"https://www.docker.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker</a></li>\n<li><a href=\"https://aws.amazon.com/ec2/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">AWS EC2</a></li>\n<li><a href=\"https://www.postgresql.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Postgres</a></li>\n<li><a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Node.js</a> / <a href=\"https://expressjs.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Express</a></li>\n<li><a href=\"https://jestjs.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Jest</a></li>\n<li><a href=\"https://github.com/features/actions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitHub Actions</a></li>\n<li><a href=\"https://loader.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Loader.io</a></li>\n<li><a href=\"https://k6.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">K6</a></li>\n<li><a href=\"https://sequelize.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Sequelize</a></li>\n<li><a href=\"https://www.npmjs.com/package/axios\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Axios</a></li>\n<li><a href=\"https://eslint.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ESLint</a></li>\n<li><a href=\"https://www.npmjs.com/package/husky\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Husky</a></li>\n<li><a href=\"https://prettier.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Prettier</a></li>\n</ul>\n<h2>Extra Resources:</h2>\n<ul>\n<li>API Documentation: <a href=\"https://github.com/sdc-bareminimum/project-catwalk-related-service/blob/main/ATELIER_API_DOCS.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Atelier API</a></li>\n<li>Engineering Journal: <a href=\"resources/system_design_project_engineering_journal.pdf\">PDF</a> Â  <a href=\"resources/JOURNAL.md\">Markdown</a> Â  <a href=\"https://docs.google.com/document/d/1pTTeDCzcKNozd9dljexVn-PrXwzoTBS0hby2dOZ95yw\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Google Doc</a></li>\n<li>Ticketing System: <a href=\"https://trello.com/b/Ua5qkKmA/trello-system-design-capstone\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Trello Board:</a></li>\n<li>Source Code: <a href=\"https://github.com/sdc-bareminimum/project-catwalk-related-service\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitHub Repo</a></li>\n</ul>\n<hr>\n<p>Also find me here:</p>\n<ul>\n<li><a href=\"https://twitter.com/SpencerLepine\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Twitter (@spencerlepine)</a></li>\n<li><a href=\"https://github.com/spencerlepine\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitHub (@spencerlepine)</a></li>\n<li><a href=\"https://www.linkedin.com/in/spencer-lepine/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">LinkedIn</a></li>\n</ul>","frontmatter":{"title":"Atelier API","tech":["Node.js","Express","PostgresSQL","AWS EC2","NGINX","Docker","GitHub Actions"],"github":"https://github.com/spencerlepine/atelier-ecommerce-api","external":"","description":"Node.js RESTful API serving retail product data (PostgreSQL) built to handle demands of production level traffic.","slug":"/portfolio/atelier-api","thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACRUlEQVQ4y4WTy08TURTG56/zb3DNxp0mJiYmxgXuTBBiNOpKXbhwIYhBsQvlEQsNKVFIQAUjlL7baTvtPO5rZvozd1qoGAyLL/fO3HO++91zvuOIKECrCCVDlF3/hQyz80F/gNvu4bY7dDtdhIgmeeNcKUOcJFZADENzIYZ2xVBvhlzPwdf8C2ThDjIBUJNYDMNUW0KZEdqPi2GTYK++xd23N3gyN0P3ZBelExhO4uw+TRSOleqHwdnP09tOkSSKJIbfrT0W8w94M5+n3DBEwhuri0lTgzE2VuPUmi0+bv9AyShTqrUiCCRRoIgiSRxbYo3X1RweQ63WplE6QmmF0h5JGhH4PtVyE8/r4/Q8j91fJ2gt0bGh29Esfs/xfPcVHVeQpiPVxzWPqaU+W58eogq3EQloYwkHFLZ3mH72mi8bmzhN12Xl28+sS9oklOshuYM15veXqTa9jDCNYae+yr2Fq8zdn6XTaBAKH6F6QEBuvcCVm4/JfV7Fcbs9dg5LGK1I0xjfF1QrIZVyhNuNRrVlSMU9YmX7HStr+1QakiS2NYuQuofbqrFVLFKqVnHqrTbruwdoLUaNsI1hjOGk2MFAU60ntFo93GYTpe2L+gxTM740ziw29uHYc/+xju3iUWXAtWVFce0pcvMWfiZcjQjHuZltYiMvIbM+hf1mnumFKR7NzNKpHaO1OefDM8LLJmVUAii1D1jaeMn7D0XKNUFsJi87NylSBBgt0LYmF0JgdIQINVEAkdD0+342x+avOMthnfIH3+bVwR4chM8AAAAASUVORK5CYII=","aspectRatio":1.5957446808510638,"src":"/static/5123204e41569cfee8af2eb3c3ec634a/8c332/diagram.png","srcSet":"/static/5123204e41569cfee8af2eb3c3ec634a/95f17/diagram.png 150w,\n/static/5123204e41569cfee8af2eb3c3ec634a/37d5a/diagram.png 300w,\n/static/5123204e41569cfee8af2eb3c3ec634a/8c332/diagram.png 600w,\n/static/5123204e41569cfee8af2eb3c3ec634a/03620/diagram.png 900w,\n/static/5123204e41569cfee8af2eb3c3ec634a/3d673/diagram.png 912w","sizes":"(max-width: 600px) 100vw, 600px"}}}},"fileAbsolutePath":"/Users/notspencer/workplace/portfolio-site-v2/content/portfolio/atelier-api/atelier-api.md"}}]}},"pageContext":{}},"staticQueryHashes":["1994492073"]}